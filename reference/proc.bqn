h â† â€¢file.Chars "APL1.htm" # https://www.jsoftware.com/papers/APL1.htm
h /Ëœâ†© Â¬ (@+13)=h
h +â†© (' '-@+10) Ã— ((Â»âˆ¨Â«)âŠ¸<(@+10)=h) âˆ§ Â«'<'â‰ h

# Adapted from bqn-libs
Find â† âˆ§âŸœÂ«Ë=âŒœ  # â‰ âˆ˜âŠ¢â†‘â· is slow currently
ReplaceAll â† { âŸ¨old,newâŸ© ğ•Š str:
  ! (â‰ new) â‰¡ l â† â‰ old
  match â† 1-Ëœ (l+1)|âŒŠÂ´ (â†•âŠ¸-l) Ã— old FindÂ¨ <str
  cont â† (-âŸœ1âŒˆâ‰¤âŸœ1Ã—âŠ¢)` match âŠ (â‰ Â¨old)âˆ¾0
  keep â† â‹ˆâŸœ(âŠâŸœstr) / 0=cont
  insert â† (newâŠËœâŠâŸœmatch)âŠ¸(â‰ Â¨âŠ¸/â‹ˆâˆ¾âˆ˜âŠ£) / (0âŠ¸<âˆ§Â»âŠ¸â‰¤) cont
  â‹âŠ¸âŠÂ´ keep âˆ¾Â¨ insert
}

# List &chars that appear
#â€¢Show âˆ¨âŒ¾(âŒ½Ë˜) (â·â‰Ë˜/â¼âˆ˜âŠ) (7âŒŠâ‰ )âŠ¸â†‘Â¨ h âŠ”Ëœ (1-Ëœ>Ã—âŠâˆ˜âŠ£)â—‹(âŒˆ`âŠ¢Ã—1+â†•âˆ˜â‰ )Ë "&;"=âŒœh

greek â† "alpha"â€¿"beta"â€¿"gamma"â€¿"Gamma"â€¿"delta"â€¿"epsilon"â€¿"theta"â€¿"lambda"â€¿"mu"â€¿"nu"â€¿"phi"â€¿"Phi"â€¿"sigma"â€¿"tau"â€¿"pi"

chars â† ("&"âˆ¾âˆ¾âŸœ";")âŒ¾âŠ‘Â¨ (â‹ˆâŸœ("\"âŠ¸âˆ¾)Â¨greek) âˆ¾ âŸ¨
  "nbsp"  â€¿"\ "
  "larr"  â€¿"â†"
  "rarr"  â€¿"â†’"
  "harr"  â€¿"\leftrightarrow"
  "darr"  â€¿"â†“"
  "uarr"  â€¿"â†‘"
  "#133"  â€¿"..."
  "ndash" â€¿"-"
  "times" â€¿"\times"
  "ldquo" â€¿"``"
  "rdquo" â€¿"''"
  "int"   â€¿"\int"
  "ne"    â€¿"\neq"
  "and"   â€¿"\wedge"
  "or"    â€¿"\vee"
  "gt"    â€¿">"
  "lt"    â€¿"<"
  "le"    â€¿"\leq"
  "ge"    â€¿"\geq"
  "rceil" â€¿"âŒ‰"
  "rfloor"â€¿"âŒ‹"
  "#8971" â€¿"\rfloor"
  "prime" â€¿"'"
  "Prime" â€¿"'"
  "#149"  â€¿"â€¢"
  "middot"â€¿"\cdot"
  "sube"  â€¿"\subseteq"
  "supe"  â€¿"\supseteq"
  "rsquo" â€¿"'"
  "mdash" â€¿"---"
  "sup2"  â€¿"^2"
  "sup3"  â€¿"^3"
  "notin" â€¿"\notin"
  "uuml"  â€¿"Ã¼"
  "equiv" â€¿"\equiv"
âŸ©

repl â† chars âˆ¾ âŸ¨
  "&times"â€¿"\times"
  "&mu"   â€¿"\mu"
  "<br>"  â€¿"\\"
  "<p>"   â€¿"\par ",    "</p>"    â€¿""
  "<b><i>"â€¿"\mathbf{", "</i></b>"â€¿"}"
  "<i>"   â€¿"\textit{", "</i>"    â€¿"}"
  "<b>"   â€¿"\textbf{", "</b>"    â€¿"}"
  "<sub>" â€¿"_{",       "</sub>"  â€¿"}"
  "<sup>" â€¿"^{",       "</sup>"  â€¿"}"
  "<tt>"  â€¿"",         "</tt>"   â€¿""
  "<nobr>"â€¿"",         "</nobr>" â€¿""
  "<table>"â€¿"\begin{tabularx}", "</table>"â€¿"\end{tabularx}"
  "<tr>"  â€¿"",         "</tr>"   â€¿"\\"
  "<td>"  â€¿"",         "</td>"   â€¿" & "
âŸ©

"APL1.tex" â€¢file.Chars (Â»âŠ¸âˆ¨' 'âŠ¸â‰ )âŠ¸/ (<Ë˜â‰>repl) ReplaceAll h
